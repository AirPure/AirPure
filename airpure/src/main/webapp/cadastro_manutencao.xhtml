<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async='async' src="https://www.googletagmanager.com/gtag/js?id=G-0N1WYCK7KM"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'G-0N1WYCK7KM');
    </script>
    <h:head>

        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
            <meta name="viewport" content="width=device-width, initial-scale=1" />

            <title>AirPure</title>
        </f:facet>

        <f:facet name="middle">
            <h:outputStylesheet name="bootstrap/css/bootstrap.css" />

            <h:outputStylesheet name="css/dashboard.css" />

            <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" />

            <h:outputScript name="bootstrap/js/bootstrap.js" />
        </f:facet>

        <f:facet name="last">
            <h:outputStylesheet name="css/font-awesome.css" />
        </f:facet>

    </h:head>
    <link rel="shortcut icon" type="image/x-icon" href="#{resource['images/logo1.png']}"/>

    <SCRIPT type="text/javascript">
        function redireciona() {
            window.history.back();
        }
    </SCRIPT>

    <h:body style="background: url('resources/images/wp4094533.jpg') repeat !important;">
        <ui:include src="headerblank.xhtml" />
        <ui:include src="content.xhtml" />

        <p:messages closable="true"/>

        <p:graphicImage library="images" value="#{FacesContext.getCurrentInstance().getExternalContext()}/resources/images/logo.png" style=" margin-left: auto; margin-right: auto; display: flex; flex-direction: row; justify-content: center; align-items: center;"/>
        <div class="login-box" style="background-color:  #eeeeee; width: 800px!Important; border-radius: 15px">
            <div class="login-logo">
                <p:link>AirPure</p:link>
                <h4>Cadastro de Manutenções para Aparelhos de Ar Condicionado</h4>

            </div>
            <!-- /.login-logo -->

            <p:dialog header="Aguarde um momento..." widgetVar="dlg1" modal="true" resizable="false" draggable="false" closable="false">
                <div style="text-align: center">
                    <p:graphicImage library="images" value="#{FacesContext.getCurrentInstance().getExternalContext()}/resources/images/ajaxloadingbar.gif" width="100"/>
                </div>
            </p:dialog>
            <div class="box login-box-body" style="background-color:  #eeeeee; border-radius: 15px">
                <h:form>
                    <p:messages closable="true"/>
                    Data de execução:
                    <div class="form-group has-feedback">
                        <p:inputMask value="#{autenticacao.work.data_execucao}"  mask="99/99/9999" styleClass="form-control" placeholder="Data Execucao"
                                     required="true"
                                     requiredMessage="Login necessário."/>
                    </div>
                    Proxima execução:
                    <div class="form-group has-feedback">
                        <p:inputMask value="#{autenticacao.work.proxima_execucao}" mask="99/99/9999" styleClass="form-control"
                                     placeholder="Proxima Execucao" required="true"
                                     requiredMessage="Projeto necessário."/>

                    </div>
                    Serviços executados:
                    <div class="form-group has-feedback">
                        <p:inputTextarea rows="6" cols="33" value="#{autenticacao.work.servicos}" styleClass="form-control"
                                         placeholder="Servicos executados" required="true"
                                         requiredMessage="Ambiente necessário."/>

                    </div>
                    Executor:
                    <div class="form-group has-feedback">
                        <p:inputText value="#{autenticacao.work.executor}" styleClass="form-control"
                                     placeholder="Executor" required="true"
                                     requiredMessage="Executor necessário."/>

                    </div>
                    Tipo da manutenção:
                    <div class="form-group has-feedback">
                        <p:selectOneRadio id="console" value="#{autenticacao.work.tipo}" unselectable="true">
                            <f:selectItem itemLabel="Mensal" itemValue="Mensal"/>
                            <f:selectItem itemLabel="Trimestral" itemValue="Trimestral"/>
                            <f:selectItem itemLabel="Semestral" itemValue="Semestral"/>
                            <f:selectItem itemLabel="Anual" itemValue="Anual"/>
                        </p:selectOneRadio>
                    </div>
                    Equipamento:
                    <div class="form-group has-feedback">
                        <p:selectOneMenu value="#{autenticacao.work.id_hvac}" effect="fold" editable="false">
                            <f:selectItems value="#{autenticacao.returnHVAC()}"/>
                        </p:selectOneMenu>
                    </div>
                    <div class="row">
                        <p:spacer height="10" />
                        <div class="col-xs-12">
                            <p:commandButton styleClass="btn btn-primary btn-block" action="#{autenticacao.insertManutencao()}" onclick="PF('dlg1').show();" oncomplete="redireciona()"
                                             value="Cadastrar" update="@form"/>
                        </div>
                    </div>
                    <div class="row">
                        <p:spacer height="10" />
                        <div class="col-xs-12">
                            <p:commandButton styleClass="btn btn-primary btn-block" onclick="redireciona();"
                                             value="Voltar" update="@form"/>
                        </div>
                    </div>
                </h:form>

                <div style="text-align: center;">
                    <p:outputLabel value="Powered by AirPure | #{main.SVNRevision}" style="font-size: 10px; color: grey;" />
                </div>


            </div>
            <!-- /.login-box-body -->
        </div>

    </h:body>
</html>